<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Build Custom Shiny Inputs with Rust, Leptos, and WebAssembly • shiny.leptos</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Build Custom Shiny Inputs with Rust, Leptos, and WebAssembly">
<meta name="description" content="Provides tooling and infrastructure to create custom Shiny input components using the Leptos Rust framework. Components are compiled to WebAssembly (WASM) for performance. Includes functions to initialize package structure, scaffold new components, and build the necessary Rust, TypeScript, and Sass assets.">
<meta property="og:description" content="Provides tooling and infrastructure to create custom Shiny input components using the Leptos Rust framework. Components are compiled to WebAssembly (WASM) for performance. Includes functions to initialize package structure, scaffold new components, and build the necessary Rust, TypeScript, and Sass assets.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">shiny.leptos</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ixpantia/shiny.leptos/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="shinyleptos">shiny.leptos<a class="anchor" aria-label="anchor" href="#shinyleptos"></a>
</h1></div>
<!-- badges: start -->

<p><strong>Create Custom Shiny Inputs and Outputs with Rust, Leptos, and WebAssembly</strong></p>
<p><code>shiny.leptos</code> provides a framework and tooling within R to build custom Shiny input and output components using the <a href="https://leptos.dev/" class="external-link">Leptos</a> Rust framework, compiling them to WebAssembly (WASM) for high-performance, interactive front-end elements within your Shiny applications.</p>
<p>This package helps you:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Initialize:</strong> Set up the necessary directory structure (<code>srcrs</code>, <code>srcts</code>, <code>srcsass</code>) and configuration files (Cargo.toml, package.json, vite.config.js, etc.) for Rust/Leptos and TypeScript development within your R package.</li>
<li>
<strong>Scaffold:</strong> Generate template files (Rust, TypeScript, R) for new custom input or output components.</li>
<li>
<strong>Build:</strong> Compile your Rust/Leptos code to WASM, bundle TypeScript bindings using Vite, and compile Sass/SCSS stylesheets into a single CSS file, placing the outputs in the correct <code>inst/</code> subdirectory for your R package.</li>
</ol>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>shiny.leptos</code> from <a href="https://github.com/ixpantia/shiny.leptos" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ixpantia/shiny.leptos"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Prerequisites for Development:</strong></p>
<p>To <em>create</em> components using <code>shiny.leptos</code> within your own R package, you will need the following installed on your system:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Rust Toolchain:</strong> Install via <a href="https://rustup.rs/" class="external-link">rustup</a>.</li>
<li>
<strong>WASM Target for Rust:</strong> <code>rustup target add wasm32-unknown-unknown</code>
</li>
<li>
<strong><code>wasm-pack</code>:</strong> <code>cargo install wasm-pack</code>
</li>
<li>
<strong>Node.js and Yarn:</strong> Install Node.js (which includes npm) from <a href="https://nodejs.org/" class="external-link">nodejs.org</a>, then install Yarn: <code>npm install -g yarn</code>
</li>
<li>
<strong>Sass:</strong> Install the Dart Sass executable (see <a href="https://sass-lang.com/install" class="external-link">sass-lang.com/install</a>). Ensure the <code>sass</code> command is available in your system’s PATH.</li>
</ol>
</div>
<div class="section level2">
<h2 id="core-workflow">Core Workflow<a class="anchor" aria-label="anchor" href="#core-workflow"></a>
</h2>
<ol style="list-style-type: decimal">
<li><p><strong>Initialize your Package:</strong> Navigate to the root directory of your R package in the terminal or R console and run: <code>r     shiny.leptos::init()</code> This sets up the <code>srcrs/</code>, <code>srcts/</code>, <code>srcsass/</code>, <code>out/</code> directories and necessary config files. It also adds these directories to your <code>.Rbuildignore</code>.</p></li>
<li>
<p><strong>Create a New Component:</strong></p>
<ul>
<li>
<strong>Input Component:</strong> Use <code><a href="reference/generic_component_init.html">new_input_component()</a></code> to generate the basic files. For example, to create a component named <code>my_counter</code>: <code>r     shiny.leptos::new_input_component("my_counter")</code> This will create <code>R/my_counter.R</code>, <code>srcrs/src/my_counter.rs</code>, and <code>srcts/src/my_counter.ts</code>.</li>
<li>
<strong>Output Component:</strong> Use <code><a href="reference/generic_component_init.html">new_output_component()</a></code> similarly. For example, to create <code>my_plot</code>: <code>r     shiny.leptos::new_output_component("my_plot")</code> This will create <code>R/my_plot.R</code> (with <code>my_plot_output</code> and <code>render_my_plot</code>), <code>srcrs/src/my_plot.rs</code>, and <code>srcts/src/my_plot.ts</code>.</li>
<li>Both functions update <code>srcrs/src/lib.rs</code> and <code>srcts/src/index.ts</code> to include the new component.</li>
</ul>
</li>
<li>
<p><strong>Implement Your Component:</strong></p>
<ul>
<li>Edit the generated <code>.rs</code> file (<code>srcrs/src/</code>) to implement the desired appearance and behavior using Leptos.</li>
<li>Modify the generated <code>.ts</code> file (<code>srcts/src/</code>) if the default Shiny input/output binding needs adjustments.</li>
<li>Customize the generated <code>.R</code> file (<code>R/</code>) to set appropriate default values or add specific arguments to the R functions (UI, update/render).</li>
<li>Optionally, add styles for your component in <code>srcsass/</code>.</li>
</ul>
</li>
<li><p><strong>Build Assets:</strong> From the root of your package, run the build command: <code>r     shiny.leptos::build()     # Or run individual steps:     # shiny.leptos::build_sass()     # shiny.leptos::build_rs() # Called by build_ts     # shiny.leptos::build_ts()</code> This compiles Sass, builds the Rust WASM package, installs/updates the WASM dependency, and bundles the TypeScript/JavaScript. The final assets (<code>*.js</code>, <code>style.css</code>) are placed in <code>inst/dist/</code>.</p></li>
<li>
<p><strong>Document and Use:</strong></p>
<ul>
<li>Run <code>devtools::document()</code> to generate documentation and update your package’s <code>NAMESPACE</code>.</li>
<li>Use <code>devtools::install()</code> to install your package locally.</li>
<li>Use your new component in a Shiny app like any other input or output!</li>
</ul>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="example-usage-input">Example Usage (Input)<a class="anchor" aria-label="anchor" href="#example-usage-input"></a>
</h2>
<p>Let’s assume you created a <code>leptos_button</code> input component, implemented it, and built/installed the package <code>yourPackageName</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># app.R</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">yourPackageName</span><span class="op">)</span> <span class="co"># Replace with your package name</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="fu">leptos_button</span><span class="op">(</span><span class="st">"myButton1"</span>, value <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>,</span>
<span>  <span class="fu">hr</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="fu">verbatimTextOutput</span><span class="op">(</span><span class="st">"button1Value"</span><span class="op">)</span>,</span>
<span>  <span class="fu">actionButton</span><span class="op">(</span><span class="st">"reset"</span>, <span class="st">"Reset Button 1"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">button1Value</span> <span class="op">&lt;-</span> <span class="fu">renderPrint</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Button 1 Value:"</span>, <span class="va">input</span><span class="op">$</span><span class="va">myButton1</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu">observe</span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">update_leptos_button</span><span class="op">(</span><span class="st">"myButton1"</span>, value <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">bindEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">reset</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p><em>Creating and using a custom output follows a similar pattern, using <code>new_output_component</code>, implementing the Rust view and R render/UI functions, building, and then using <code>yourPackageName::my_output_output()</code> in the UI and <code>output$myOutput &lt;- yourPackageName::render_my_output({...})</code> in the server.</em></p>
</div>
<div class="section level2">
<h2 id="key-functions">Key Functions<a class="anchor" aria-label="anchor" href="#key-functions"></a>
</h2>
<ul>
<li>
<code><a href="reference/init.html">init()</a></code>: Initializes the required directory structure and configuration files.</li>
<li>
<code>new_input_component(component_name)</code>: Creates scaffolding for a new <strong>input</strong> component.</li>
<li>
<code>new_output_component(component_name)</code>: Creates scaffolding for a new <strong>output</strong> component.</li>
<li>
<code><a href="reference/build.html">build()</a></code>: Runs the full build process (Sass, Rust/WASM, TypeScript/Vite).</li>
<li>
<code><a href="reference/build_sass.html">build_sass()</a></code>: Builds only the Sass assets.</li>
<li>
<code><a href="reference/build_rs.html">build_rs()</a></code>: Builds only the Rust/WASM assets.</li>
<li>
<code><a href="reference/build_ts.html">build_ts()</a></code>: Builds only the TypeScript assets (implicitly runs <code>build_rs</code>).</li>
</ul>
</div>
<div class="section level2">
<h2 id="project-structure">Project Structure<a class="anchor" aria-label="anchor" href="#project-structure"></a>
</h2>
<p>After running <code><a href="reference/init.html">init()</a></code>, your package will have these key directories:</p>
<ul>
<li>
<code>srcrs/</code>: Rust source code (Leptos components).</li>
<li>
<code>srcts/</code>: TypeScript source code (Shiny bindings).</li>
<li>
<code>srcsass/</code>: Sass/SCSS files for styling.</li>
<li>
<code>out/</code>: (Generated) Compiled WASM package, used by <code>srcts</code>.</li>
<li>
<code>inst/dist/</code>: (Generated) Final JS and CSS assets for the R package.</li>
<li>
<code>Cargo.toml</code>: (Root) Rust workspace definition.</li>
<li>
<code>R/</code>: Generated R functions for UI and server interaction.</li>
</ul>
</div>
<div class="section level2">
<h2 id="authors">Authors<a class="anchor" aria-label="anchor" href="#authors"></a>
</h2>
<ul>
<li>
<strong>ixpantia, SRL</strong> (Copyright Holder) <a href="mailto:hola@ixpantia.com" class="email">hola@ixpantia.com</a>
</li>
<li>
<strong>Andres Quintero</strong> (Author, Creator) <a href="mailto:andres@ixpantia.com" class="email">andres@ixpantia.com</a>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p><em>MIT License</em> See the <a href="LICENSE">LICENSE</a> file for details.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ixpantia/shiny.leptos/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ixpantia/shiny.leptos/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing shiny.leptos</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Andres Quintero <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/ixpantia/shiny.leptos/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/ixpantia/shiny.leptos/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andres Quintero.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
